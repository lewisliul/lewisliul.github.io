
<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  
  <title>Git基础学习(3) | 耗子</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="&amp;emsp;&amp;emsp;在前面第一节里面主要讲的是分支基础的应用，这一节开始讲git的分支管理的策略。">
<meta property="og:type" content="article">
<meta property="og:title" content="Git基础学习(3)">
<meta property="og:url" content="http://yoursite.com/2016/04/19/git学习3/index.html">
<meta property="og:site_name" content="耗子">
<meta property="og:description" content="&amp;emsp;&amp;emsp;在前面第一节里面主要讲的是分支基础的应用，这一节开始讲git的分支管理的策略。">
<meta property="og:image" content="http://yoursite.com/images/git_4.1.1.png">
<meta property="og:image" content="http://yoursite.com/images/git_4.1.2.png">
<meta property="og:image" content="http://yoursite.com/images/git_4.1.3.png">
<meta property="og:image" content="http://yoursite.com/images/git_4.1.4.png">
<meta property="og:image" content="http://yoursite.com/images/git_4.1.5.png">
<meta property="og:image" content="http://yoursite.com/images/git_4.1.6.png">
<meta property="og:image" content="http://yoursite.com/images/git_4.1.7.png">
<meta property="og:image" content="http://yoursite.com/images/git_4.3.1.png">
<meta property="og:image" content="http://yoursite.com/images/git_4.3.2.png">
<meta property="og:image" content="http://yoursite.com/images/git_4.3.3.png">
<meta property="og:image" content="http://yoursite.com/images/git_4.3.4.png">
<meta property="og:image" content="http://yoursite.com/images/git_4.3.5.png">
<meta property="og:image" content="http://yoursite.com/images/git_4.4.1.png">
<meta property="og:image" content="http://yoursite.com/images/git_4.4.2.png">
<meta property="og:image" content="http://yoursite.com/images/git_4.4.3.png">
<meta property="og:image" content="http://yoursite.com/images/git_4.4.4.png">
<meta property="og:image" content="http://yoursite.com/images/git_4.4.5.png">
<meta property="og:image" content="http://yoursite.com/images/git_4.4.6.png">
<meta property="og:image" content="http://yoursite.com/images/git_4.4.7.png">
<meta property="og:image" content="http://yoursite.com/images/git_4.4.8.png">
<meta property="og:image" content="http://yoursite.com/images/git_4.4.9.png">
<meta property="og:image" content="http://yoursite.com/images/git_4.4.10.png">
<meta property="og:image" content="http://yoursite.com/images/git_4.4.11.png">
<meta property="og:image" content="http://yoursite.com/images/git_4.4.12.png">
<meta property="og:image" content="http://yoursite.com/images/git_4.4.13.png">
<meta property="og:image" content="http://yoursite.com/images/git_4.4.14.png">
<meta property="og:image" content="http://yoursite.com/images/git_4.4.15.jpg">
<meta property="og:image" content="http://yoursite.com/images/git_4.4.16.png">
<meta property="og:image" content="http://yoursite.com/images/git_4.4.17.png">
<meta property="og:image" content="http://yoursite.com/images/git_4.4.18.png">
<meta property="og:updated_time" content="2016-05-12T07:11:25.765Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Git基础学习(3)">
<meta name="twitter:description" content="&amp;emsp;&amp;emsp;在前面第一节里面主要讲的是分支基础的应用，这一节开始讲git的分支管理的策略。">
<meta name="twitter:image" content="http://yoursite.com/images/git_4.1.1.png">
  
    <link rel="alternative" href="/atom.xml" title="耗子" type="application/atom+xml">
  
  
  <link rel="stylesheet" href="/css/style.css">
  
    <link href="//fonts.useso.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <!--[if lt IE 9]><script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7/html5shiv.min.js"></script><![endif]-->
  
</head>

<body>
<div id="container">
  <div id="wrap">
    <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <nav id="upper-nav" class="inner">
      <a id="main-nav-toggle" class="nav-icon"></a>
      <div class="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        
          <a id="nav-github" class="nav-icon" href="https://github.com/myname"></a>
        
      </div>
    </nav>
    <div id="header-title">
      
        <h1 id="blog-title-wrap">
          <a href="/" id="blog-title">耗子の博客</a>
        </h1>
      
    </div>
    <div id="contenedor">
      <ul class="cube">
        <li class="cara">MyLogo</li>
        <li class="cara"></li>
        <li class="cara"></li>
        <li class="cara"></li>
        <li class="cara"></li>
        <li class="cara"></li>
      </ul>
    </div>
    <nav id="main-nav">
      
        <a class="main-nav-link" href="/">Home</a>
      
        <a class="main-nav-link" href="/archives">Archives</a>
      
        <a class="main-nav-link" href="/about">About</a>
      
      <a class="main-nav-link st-search-show-outputs">Search</a>
    </nav>
  </div>
</header>

    <div class="outer">
      <section id="main"><article id="post-git学习3" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <h3 href="/2016/04/19/git学习3/" class="article-date">
  <time datetime="2016-04-19T08:48:57.000Z" itemprop="datePublished">2016-04-19</time>
</h3>
    
  </div>
  <div class="article-inner">
  <div class="curve-down">
  <div class="fill-content">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Git基础学习(3)
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        
        <p>&emsp;&emsp;在前面第一节里面主要讲的是分支基础的应用，这一节开始讲git的分支管理的策略。<br><a id="more"></a></p>
<h2 id="4-git分支管理策略"><a href="#4-git分支管理策略" class="headerlink" title="4 git分支管理策略"></a>4 git分支管理策略</h2><p>&emsp;&emsp;在之前进行的分支合并的时候使用的全部都是“fast forward”方式完成的，而此种方式只是改变master指针，可是在分支的时候也可以不使用这钟方式快速合并，即：增加一个<strong>–no-ff</strong>参数，这样就表示在合并之后会自动的生成一个新的commit id，从而保证合并数据的完整性。</p>
<p><img src="/images/git_4.1.1.png" alt="--no-ff"></p>
<p>举例说明：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">1.创建一个新的分支</span><br><span class="line">git checkout -b brh</span><br><span class="line"></span><br><span class="line">2.建立一个新的java文件</span><br><span class="line"></span><br><span class="line">3.提交修改</span><br><span class="line">git commit <span class="_">-a</span> -m <span class="string">"add new files"</span></span><br><span class="line">(包括add和commit)</span><br><span class="line"></span><br><span class="line">4.切换回master分支</span><br><span class="line">git checkout master</span><br><span class="line"></span><br><span class="line">5.使用非快速合并的方式进行合并,结果如图1所示</span><br><span class="line">git merge --no-ff -m <span class="string">"no ff commit"</span></span><br><span class="line"></span><br><span class="line">6.查看一下提交的日志信息,结果如图2</span><br><span class="line">git <span class="built_in">log</span> --graph --pretty=oneline --abbrev-commit</span><br></pre></td></tr></table></figure>
<p><img src="/images/git_4.1.2.png" alt="1--no-ff"> </p>
<p><img src="/images/git_4.1.3.png" alt="2--no-ff"> </p>
<h2 id="4-1分支管理策略"><a href="#4-1分支管理策略" class="headerlink" title="4.1分支管理策略"></a>4.1分支管理策略</h2><p><img src="/images/git_4.1.4.png" alt="分支管理策略">   </p>
<h2 id="4-2分支暂存"><a href="#4-2分支暂存" class="headerlink" title="4.2分支暂存"></a>4.2分支暂存</h2><p>&emsp;&emsp;譬如说现在你正在一个分支上开发，但是突然你的领导给了你一个新的任务，并且告诉你在半个小时内完成，那怎么办？</p>
<p>难道那开发一半的分支要提交吗？不可能的，因为对于版本控制的基本的道德方式：你不能把有问题的代码提交，你所提交的代码一定都是正确的代码，那么为了这样的问题，在git中提供一个分支暂存的机制，可以将开发一半的分支进行保存，而后在适当的时候进行代码的恢复。</p>
<p>那么下面首先创建一个基本的开发场景。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">1.创建切换到一个新的分支</span><br><span class="line">git checkout -b brh</span><br><span class="line"></span><br><span class="line">2.下面在分支上面编写java文件</span><br><span class="line"></span><br><span class="line">3.将此文件保存在暂存区中，</span><br><span class="line">git add .</span><br><span class="line">代码还没完成，不能提交，但是新的任务给你了，你必须暂停当前的开发任务，所以需要将当前的开发进度暂存，等日后有时间了继续进行恢复开发。</span><br><span class="line"></span><br><span class="line">4.将工作暂存,如图3所示</span><br><span class="line">git stash</span><br><span class="line"></span><br><span class="line">5.查看当前的工作区的内容,如图4所示</span><br><span class="line">git status</span><br><span class="line"></span><br><span class="line">6.要改的工作在master分支上，所以切换master</span><br><span class="line">git checkout master</span><br></pre></td></tr></table></figure></p>
<p><img src="/images/git_4.1.5.png" alt="3-分支暂存"> </p>
<p><img src="/images/git_4.1.6.png" alt="4-状态查看"> </p>
<p>表示当前的工作区中没有任何的修改。</p>
<p>那么现在假设说创建一个新的分支来处理老班的需求，假设分支的名称为“dev”（也有可能是一个bug调试）。接着上面来：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">7.创建切换到dev新的分支</span><br><span class="line">git checkout -b dev</span><br><span class="line"></span><br><span class="line">8.修改java文件</span><br><span class="line"></span><br><span class="line">9.提交修改</span><br><span class="line">git commit <span class="_">-a</span> -m <span class="string">"dev commit"</span></span><br><span class="line">到此老班的要求完成，但是这个代码还是dev分支，那么现在的切回master分支进行合并。</span><br><span class="line"></span><br><span class="line">10.切换回master分支</span><br><span class="line">git checkout master</span><br><span class="line"></span><br><span class="line">11.合并dev分支,使用no fast forward</span><br><span class="line">git merge --no-ff -m <span class="string">"merger dev branch"</span> dev</span><br><span class="line">问题被解决了，dev分支没有任何存在的意义了，可以删除。</span><br><span class="line"></span><br><span class="line">12.删除dev分支</span><br><span class="line">git branch <span class="_">-d</span> dev</span><br></pre></td></tr></table></figure>
<p>那么需要回归到已有的工作状态，但是有可能会存在许多暂存的状态，可以直接使用如下命令进行列出：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">13.暂存区列表</span><br><span class="line">git stash list</span><br><span class="line"></span><br><span class="line">14.从暂存区中进行恢复：</span><br><span class="line"> a)x先恢复，在手动删除暂存：</span><br><span class="line">git stash apply</span><br><span class="line">git stash drop</span><br><span class="line"></span><br><span class="line"> b）恢复的同时将stash内容删除：结果如图5</span><br><span class="line">git stash pop</span><br><span class="line"></span><br><span class="line">15.下面的任务就是代码提交</span><br><span class="line">git commit <span class="_">-a</span> -m <span class="string">"change file"</span></span><br><span class="line"></span><br><span class="line">16.删除brh分支</span><br><span class="line">git branch <span class="_">-d</span> brh</span><br></pre></td></tr></table></figure>
<p><img src="/images/git_4.1.7.png" alt="5-stash内容删除"> </p>
<p>使用暂存策略可以很方便的解决代码突然暂停修改的操作，是非常方便的。</p>
<h2 id="4-3补丁-patch"><a href="#4-3补丁-patch" class="headerlink" title="4.3补丁:patch"></a>4.3补丁:patch</h2><p>&emsp;&emsp;补丁并不是对所有的代码的修改，只是对局部的代码的修改，在很多的代码的维护之中，如果按照最早克隆的方式将代码克隆下来实际上花费的资源是非常大的，但是修改的只是可能只是修改很小的一部分代码，在这个时候就希望将一些代码的补丁信息发送给开发者。而发给开发者后，他需要知道哪些代码被修改了，这样的话就可以使用一个极低的开销实现代码的修改操作，而在git中也提供了两种简单的补丁方案。</p>
<ul>
<li><strong>使用git diff生成标准的patch:</strong></li>
<li><strong>使用git format-patch生成git专用的patch</strong></li>
</ul>
<h3 id="4-3-1利用git-diff生成标准的patch"><a href="#4-3-1利用git-diff生成标准的patch" class="headerlink" title="4.3.1利用git diff生成标准的patch"></a>4.3.1利用git diff生成标准的patch</h3><p>补丁的修改一定是针对文件的修改，所以以一个java文件为例。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">1.当前的emp.java文件,如图6所示</span><br><span class="line"></span><br><span class="line">2.建立切换一个分支cbrh</span><br><span class="line">git checkout -b cbrh</span><br><span class="line"></span><br><span class="line">3.修改emp.java文件，如图7所示</span><br><span class="line"></span><br><span class="line">4.查看文件代码的不同,如图8</span><br><span class="line">git diff emp.java</span><br></pre></td></tr></table></figure>
<p><img src="/images/git_4.3.1.png" alt="6-emp.java"> </p>
<p><img src="/images/git_4.3.2.png" alt="7-修改的emp.java"> </p>
<p><img src="/images/git_4.3.3.png" alt="8-对比emp.java"> </p>
<p>此时可以发现emp.java文件修改前后的对比情况。接着后面：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">5.提交到cbrh分支</span><br><span class="line">git commit <span class="_">-a</span> -m <span class="string">"add in emp.java"</span></span><br><span class="line"></span><br><span class="line">此时并没有和主分支进行提交，但是代码已经改变，需要的是将代码的变化提交给开发者。</span><br><span class="line"></span><br><span class="line">6.生成补丁文件 -- mypat</span><br><span class="line">git diff master &gt; mypat</span><br><span class="line"></span><br><span class="line">7.然后在回到master分支上面</span><br><span class="line">git checkout master</span><br><span class="line"></span><br><span class="line">此时会自动在项目目录中生成一个mypat的补丁文件信息。是由git读的文件。完成后，需要模拟另一个开发者，假设是专门进行合并的开发者。</span><br><span class="line"></span><br><span class="line">8.创建并切换一个分支</span><br><span class="line">git checkout -b patchbrh</span><br><span class="line"></span><br><span class="line">9.应用补丁信息</span><br><span class="line">git apply mypat</span><br><span class="line"></span><br><span class="line">此时补丁可以成功的使用了。</span><br><span class="line"></span><br><span class="line">10.提交补丁的操作</span><br><span class="line">git commit <span class="_">-a</span> -m <span class="string">"Patch Apply"</span></span><br><span class="line"></span><br><span class="line">11.切换回master分支后，再进行分支的合并</span><br><span class="line">git checkout master </span><br><span class="line">git merge --no-ff -m <span class="string">"Merge Patch"</span> patchbrh</span><br></pre></td></tr></table></figure>
<p>这样如果只是将补丁数据的文件发送给开发者，那么就没有必要进行大量代码的传输，并且在创建补丁的时候也可以针对于多个文件进行补丁的创建。</p>
<h3 id="4-3-2利用git-format-patch生成专用的patch"><a href="#4-3-2利用git-format-patch生成专用的patch" class="headerlink" title="4.3.2利用git format-patch生成专用的patch"></a>4.3.2利用git format-patch生成专用的patch</h3><p>那么还是利用分支修改emp.java文件。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">1.将之前的分支强删掉</span><br><span class="line">git branch -D cbrh</span><br><span class="line">git branch -D patchbrh</span><br><span class="line"></span><br><span class="line">2.创建并切换分支cbrh</span><br><span class="line">git checkout -b cbrh</span><br><span class="line"></span><br><span class="line">3.修改文件，增加一个方法</span><br><span class="line"></span><br><span class="line">4.提交代码到cbrh</span><br><span class="line">git commit <span class="_">-a</span> -m <span class="string">"add a method"</span></span><br><span class="line"></span><br><span class="line">5.比较原始master代码，比较后自动生成一个补丁文件，结果图8</span><br><span class="line">git format-patch -M master</span><br></pre></td></tr></table></figure>
<p><img src="/images/git_4.3.4.png" alt="9-对比emp.java后生成补丁文件"> </p>
<p>此时已经生成了一个补丁文件，因为只修改了一次的内容，这个补丁文件严格来说就是一个email数据，需要将此数据发送给开发者，而后开发者可以进行补丁的应用。接着操作：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">6.创建并切换到patchbrh分支上</span><br><span class="line">git checkout master</span><br><span class="line">git checkout -b patchbrh</span><br><span class="line"></span><br><span class="line">7.应用补丁的信息，利用“git am”完成，结果如图10</span><br><span class="line">git am 补丁名</span><br><span class="line"></span><br><span class="line">8.补丁应用后，提交更新</span><br><span class="line">git commit <span class="_">-a</span> -m <span class="string">"method patch apply"</span> </span><br><span class="line"></span><br><span class="line">9.再可以合并</span><br><span class="line">git checkout master </span><br><span class="line">git merge --no-ff -m <span class="string">"Merge Patch method"</span> patchbrh</span><br></pre></td></tr></table></figure>
<p><img src="/images/git_4.3.5.png" alt="10-应用补丁文件"> </p>
<p>那么，此时就可以直接成功的应用补丁进行代码的更正。</p>
<p><strong>关于这两种补丁方式的说明：</strong></p>
<ul>
<li>使用第一种生成的补丁兼容性比较好的，如果你是在不是git管理的仓库上，此类方式生成的补丁是非常容易接受的；</li>
<li>但是如果你是向公共的开发社区进行代码的补丁更正，那么建议使用第二种，这样不仅标准，也可以将更正人的信息进行公布；</li>
</ul>
<h2 id="4-4多人协作开发"><a href="#4-4多人协作开发" class="headerlink" title="4.4多人协作开发"></a>4.4多人协作开发</h2><p>&emsp;&emsp;分支的处理实际上是为了更好的多人开发做出的准备，那么下面就将利用两个命令行的方式进行代码的编写模拟多人开发者。</p>
<ul>
<li>一般而言，master分支项目的核心分支，只要进行代码的克隆，那么此分支一定会被保存下来：</li>
<li>开发者往往会建立一系列的分支，</li>
<li>如果要进行调试可以建立bug分支</li>
<li>如果要增加新功能可以建立feature分支。</li>
</ul>
<p><img src="/images/git_4.4.1.png" alt="1"> </p>
<p><img src="/images/git_4.4.2.png" alt="2"> </p>
<p><img src="/images/git_4.4.3.png" alt="3-4-5"> </p>
<p><img src="/images/git_4.4.4.png" alt="6"> </p>
<p>发现现在只是将master分支copy下来了，但是brh分支并没有存在。</p>
<p><img src="/images/git_4.4.5.png" alt="7-8"> </p>
<p><img src="/images/git_4.4.6.png" alt="9"> </p>
<p><img src="/images/git_4.4.7.png" alt="10-11"> </p>
<p>现在代码已经发送到了服务器上了，并且在brh分支上增加了新的admin.java文件。</p>
<p><img src="/images/git_4.4.8.png" alt="12"></p>
<p><img src="/images/git_4.4.9.png" alt="12"> </p>
<p>错误信息也很简单，指当前的brh分支和服务器上的分支没有关系，所以如果想要读取代码，必须让2个分支产生关联。</p>
<p><img src="/images/git_4.4.10.png" alt="12"> </p>
<p>这个时候就实现了不同开发者之间的代码互相关联。</p>
<p><img src="/images/git_4.4.11.png" alt="13"> </p>
<p><img src="/images/git_4.4.12.png" alt="14-15"></p>
<p><img src="/images/git_4.4.13.png" alt="16"> </p>
<p><img src="/images/git_4.4.14.png" alt="17"></p>
<p>但是这个时候很明显，2个用户同时一起修改了文件。</p>
<p><img src="/images/git_4.4.15.jpg" alt="18"></p>
<p>此时的程序是2位开发者修改了同一个代码，所以产生了冲突，同时一号开发者中的文件，已经变更如下情况：</p>
<p><img src="/images/git_4.4.16.png" alt="18"></p>
<p><img src="/images/git_4.4.17.png" alt="19"></p>
<p><img src="/images/git_4.4.18.png" alt="20"></p>
<p>现在已经成功的由本地的冲突扩充到了远程的冲突，通过一系列的代码大家也可以更好的理解分支的操作问题。</p>
<ul>
<li>首先，可以试图用git push origin branch-name推送自己的修改；</li>
<li>如果推送失败，则因为远程分支比你的本地更新，需要先用git pull试图合并；</li>
<li>如果合并有冲突，则解决冲突，并在本地提交；</li>
<li>没有冲突或者解决掉冲突后，再用git push origin branch-name推送就能成功！</li>
</ul>
<p>如果git pull提示“no tracking information”，则说明本地分支和远程分支的链接关系没有创建，用命令:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch --set-upstream branch-name origin/branch-name</span><br></pre></td></tr></table></figure>
<p>这就是多人协作的工作模式，一旦熟悉了，就非常简单。</p>
<h2 id="4-5总结"><a href="#4-5总结" class="headerlink" title="4.5总结"></a>4.5总结</h2><p>&emsp;&emsp;在整个git学习中，分支的管理操作是最为麻烦的也是最为重要的操作，所以在此部分的程序，希望反复的练习。分支是进行开发使用的，最终的代码都在master分支上。</p>
<ul>
<li>查看远程库信息，使用git remote -v</li>
<li>本地新建的分支如果不推送到远程，对其他人就是不可见的</li>
<li>从本地推送分支，使用git push origin branch-name，如果推送失败，先用git pull抓取远程的新提交</li>
<li>在本地创建和远程分支对应的分支，使用git checkout -b branch-name origin/branch-name，本地和远程分支的名称最好一致</li>
<li>建立本地分支和远程分支的关联，使用git branch –set-upstream branch-name origin/branch-name</li>
<li>从远程抓取分支，使用git pull，如果有冲突，要先处理冲突</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <div class="article-footer-content">
        
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/git/">git</a></li></ul>

        <a data-url="http://yoursite.com/2016/04/19/git学习3/" data-id="cio40p42p000fi4trq8g7zl51" class="article-share-link">Share</a>
        
      </div>
    </footer>
  </div>
  </div>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2016/04/24/git学习4/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Git基础学习(4)
        
      </div>
    </a>
  
  
    <a href="/2016/04/17/android-attr/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Android深入理解自定义属性</div>
    </a>
  
</nav>

  
</article>



<section id="comments">
    <!-- 多说评论框 start -->
	<div class="ds-thread" data-thread-key="post-git学习3" data-title="Git基础学习(3)" data-url="http://yoursite.com/2016/04/19/git学习3/"></div>
	<!-- 多说评论框 end -->
	<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
	<script type="text/javascript">
	var duoshuoQuery = {short_name:"lewisliul"};
		(function() {
			var ds = document.createElement('script');
			ds.type = 'text/javascript';ds.async = true;
			ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
			ds.charset = 'UTF-8';
			(document.getElementsByTagName('head')[0] 
			 || document.getElementsByTagName('body')[0]).appendChild(ds);
		})();
		</script>
	<!-- 多说公共JS代码 end -->
</section>


</section>
      
      <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2016/05/12/test/">test</a>
          </li>
        
          <li>
            <a href="/2016/05/12/hello-world/">Hello World</a>
          </li>
        
          <li>
            <a href="/2016/05/11/androidstudio/">androidstudio神器</a>
          </li>
        
          <li>
            <a href="/2016/05/11/android-oom/">Android OOM解析</a>
          </li>
        
          <li>
            <a href="/2016/05/09/android-CursorLoader/">Android Loader解析</a>
          </li>
        
      </ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/android-data-cursorloader/">android_data_cursorloader</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/android-optimization-oom/">android_optimization_oom</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/android-resource-attr/">android_resource_attr</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/android-tool-as/">android_tool_as</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/android-ui-scroller/">android_ui_scroller</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/blog/">blog</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/">git</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/">hexo</a><span class="tag-list-count">1</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/05/">May 2016</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/04/">April 2016</a><span class="archive-list-count">7</span></li></ul>
    </div>
  </div>

  
</aside>
      
    </div>
    <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2016 lewisliul<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
      .
      Theme by <a href="https://github.com/sun11/hexo-theme-paperbox" target="_blank">Paperbox</a>
    </div>
  </div>
</footer>
  </div>
  <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/about" class="mobile-nav-link">About</a>
  
  <a href="#search" class="mobile-nav-link st-search-show-outputs">Search</a>
</nav>
  <!-- totop start -->
<div id="totop">
	<a title="To Top"></a>
</div>
<!-- totop end -->
<!-- swiftype search start -->

<!-- swiftype search end -->


<!-- duoshuo start -->
<script type="text/javascript">
var duoshuoQuery = {short_name:"lewisliul"};
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0]
     || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
  </script>
<!-- duoshuo end -->


<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>

<script src="//cdn.bootcss.com/lrsjng.jquery-qrcode/0.12.0/jquery.qrcode.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

</div>
</body>
</html>
